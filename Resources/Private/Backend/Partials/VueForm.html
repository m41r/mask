<div v-if="global.activeField.name" class="tx_mask_field">
    <div v-if="['date', 'datetime'].includes(global.activeField.name)">
        <f:be.infobox state="1">
            <p>
                This field might cause problems with timezone conversions.<br>
                If you want to make sure your date is displayed as entered, we recommend using the <b>Timestamp</b> field.<br>
                Read this for more technical insight: <a href="https://github.com/gernott/mask/issues/234#issuecomment-653574022" target="_blank">Date and DateTime saves wrong date #234</a>
            </p>
        </f:be.infobox>
    </div>
    <div v-if="activeMultiUseElements.length">
        <f:be.infobox title="{f:translate(key:'tx_mask.content.multiuse')}" state="-1">
            <f:translate key="tx_mask.content.multiuse.description"/>
            <ul>
                <li v-for="element in activeMultiUseElements">{{ element }}</li>
            </ul>
        </f:be.infobox>
    </div>
    <div v-if="global.activeField.name != 'linebreak'" role="tabpanel">
        <ul class="nav nav-tabs" role="tablist" data-store-last-tab="1">
            <li v-for="(tab, key) in fieldTabs" role="presentation" :class="{active: key === global.currentTab, 'has-validation-error': key == 'general' && activeFieldHasKeyError}" v-if="key == 'general' || !isActiveCoreField">
                <a role="tab" href="#" @click.prevent="global.currentTab = key">
                    {{ language.tabs[key] }}
                </a>
            </li>
        </ul>
        <div class="tx_mask_fieldcontent tab-content">
            <div role="tabpanel" class="tab-pane active" id="default_{key}">
                <div v-if="global.currentTab == 'general'" class="form-section">

                    <div class="row" v-if="chooseFieldVisible">
                        <div class="form-group col-sm-6">
                            <f:render partial="General/VueKeySelect"/>
                        </div>
                    </div>

                    <div v-if="overrideLabelVisible" class="row tx_mask_fieldcontent_existing">
                        <div class="form-group col-sm-6">
                            <f:render partial="General/VueOverrideLabel"/>
                        </div>
                    </div>

                    <div class="row" v-if="keyFieldVisible || maskFieldGeneralTabOpen">
                        <div v-if="keyFieldVisible" :class="['form-group', 'col-sm-6', {'has-error': activeFieldHasKeyError}]">
                            <f:render partial="General/VueKey"/>
                        </div>
                        <div v-if="maskFieldGeneralTabOpen" :class="['form-group', 'col-sm-6', {'has-error': activeTabHasEmptyLabel}]">
                            <f:render partial="General/VueLabel"/>
                        </div>
                    </div>

                    <div v-if="maskFieldGeneralTabOpen" class="row">
                        <div class="form-group col-sm-6">
                            <f:render partial="General/VueDescription"/>
                        </div>
                    </div>

                </div>
                <div v-if="!isActiveCoreField" v-for="(row, tcaKey) in tabs[global.activeField.name][global.currentTab]" class="form-section">
                    <div class="row">
                        <form-field
                            v-for="(column, tcaKey) in row"
                            :key="global.activeField.uid + '.' + tcaKey"
                            :global="global"
                            :icons="icons"
                            :tca-fields="tcaFields"
                            :tca-key="tcaKey"
                            :column="column"
                            :field-errors="fieldErrors"
                        ></form-field>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
