<div v-show="loaded" style="display: none;" class="row bench">
    <div class="mask-sidebar">
        <div class="tabpanel">
            <ul class="nav nav-tabs">
                <li :class="{active: elementTabOpened}">
                    <a @click.prevent="sidebar = 'element'" href="">{f:translate(key: 'tx_mask.element')}</a>
                </li>
                <li :class="{active: fieldsTabOpened}">
                    <a @click.prevent="sidebar = 'fields'" href="#">{f:translate(key: 'tx_mask.fields')}</a>
                </li>
                <li class="pull-right">
                    <button @click="mode = 'list'" class="btn btn-default"><span v-html="icons.close"></span> {f:translate(key: 'tx_mask.close')}</button>
                </li>
                <li class="pull-right">
                    <button class="btn btn-default" @click="save"><span v-show="!saving" v-html="icons.save"></span><span v-show="saving" v-html="icons.spinner"></span> {f:translate(key: 'tx_mask.content.save')}</button>
                </li>
            </ul>
        </div>
        <div class="mask-sidebar__content">
            <div v-show="sidebar == 'element'">
                <div v-if="type == 'tt_content'">
                    <f:render partial="VueElement" arguments="{storage: storage}"/>
                </div>
                <div v-else>{{ element.title }}</div>
            </div>
            <div v-show="sidebar == 'fields'">
                <field-group
                    v-for="group in groups"
                    :group="group.name"
                    :label="group.label"
                    :on-move="onMove"
                    :handle-clone="handleClone"
                    :add-field="addField"
                    :field-types="fieldTypes"
                ></field-group>
            </div>
        </div>
    </div>
    <div class="mask-fields">
        <div class="mask-fields__label t3js-formengine-label">
            <f:translate key="tx_mask.all.fields_of_element"/>
        </div>
        <div class="mask-field-list" :class="{'mask-field-list--empty': !fields.length}">
            <nested-draggable
                :depth="0"
                :index="0"
                :fields="fields"
                :icons="icons"
                :global="global"
                :move="onMove"
                :field-has-error="fieldHasError"
                :validate-key="validateKey"
                :language="language"
            >
            </nested-draggable>
        </div>
    </div>
    <div class="form-group mask-field-form">
        <f:render partial="VueForm"/>
    </div>
</div>
